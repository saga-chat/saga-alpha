(this["webpackJsonpsaga-alpha"]=this["webpackJsonpsaga-alpha"]||[]).push([[0],{120:function(e,n,t){e.exports=t(227)},125:function(e,n,t){},126:function(e,n,t){},227:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(14),i=t.n(o),c=(t(125),t(126),t(127),t(63)),l=t.n(c),u={apiKey:"AIzaSyCT0X8rb0cz6F45OuGqDxMAXXooxbRyCPg",authDomain:"saga-alpha.firebaseapp.com",databaseURL:"https://saga-alpha.firebaseio.com",projectId:"saga-alpha",storageBucket:"saga-alpha.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/saga-alpha",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_API:"AIzaSyCT0X8rb0cz6F45OuGqDxMAXXooxbRyCPg",REACT_APP_AUTHDOMAIN:"saga-alpha.firebaseapp.com",REACT_APP_DATABASEURL:"https://saga-alpha.firebaseio.com",REACT_APP_PROJECTNAME:"saga-alpha",REACT_APP_STORAGEBUCKET:"saga-alpha.appspot.com",REACT_APP_MESSAGINGSENDERID:"563161782798",REACT_APP_APPID:"1:563161782798:web:2854a594a2f7ad507b7a5f",REACT_APP_MEASUREMENTID:"G-G2SY4BZGH0"}).MESSAGINGSENDERID,appId:"1:563161782798:web:2854a594a2f7ad507b7a5f",measurementId:"G-G2SY4BZGH0"},d=t(39),s=t(10),p=t(11),m=t(95),f=t.n(m);function E(){var e=Object(s.a)(["\n  color: #ffffff;\n"]);return E=function(){return e},e}function h(){var e=Object(s.a)(['\n  font-family: "Inter", sans-serif;\n  font-weight: 300;\n  font-size: 15px;\n  padding: 6px 12px;\n  p {\n    padding: 0;\n    margin: 0;\n  }\n']);return h=function(){return e},e}var g,b=p.a.div(h()),v=p.a.a(E()),T=function(e){var n=e.content;e.childContent;switch(n.kind){case"markdown":return r.createElement(b,null,r.createElement(f.a,{source:n.contents,disallowedTypes:["image","imageReference","heading"],unwrapDisallowed:!0,renderers:{link:v}}));case"image":return r.createElement("img",{style:{display:"block",maxWidth:"100%",width:"100%",maxHeight:"100%",objectFit:"contain",boxSizing:"border-box"},src:n.uri,loading:"lazy"});case"reaction":return r.createElement("span",null,n.emoji);default:return r.createElement("pre",null,"unimplemented")}};function y(){var e=Object(s.a)(["\n  max-width: 300px;\n  display: inline-block;\n  background-color: ",";\n  color: #ffffff;\n  border-radius: ",";\n  box-sizing: border-box;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n  opacity: ","%;\n"]);return y=function(){return e},e}!function(e){e[e.top=0]="top",e[e.middle=1]="middle",e[e.bottom=2]="bottom",e[e.singleton=3]="singleton"}(g||(g={}));var w=p.a.div(y(),"#614AEC",(function(e){var n=e.mode;return(n===g.bottom||n===g.middle?"5px":"15px")+" 15px  15px "+(n===g.top||n===g.middle?"5px":"15px")}),(function(e){return 100-20*e.depth})),O=function(e){var n=e.message,t=e.mode,a=(e.childEvents,e.depth),o=n.contents.map((function(e,n){return r.createElement(T,{key:n,content:e,childContent:[]})}));return r.createElement(w,{mode:t,depth:a},o)},x=t(260),j=t(103),k=t.n(j),S=t(105),C=t.n(S),A=t(71),_=t.n(A),I=t(104),P=t.n(I),R=t(266),N=t(259),D=t(261),M=t(70),z=t.n(M),B=t(114),U=t(265);function V(){var e=Object(s.a)(["\n  display: flex;\n  position: absolute;\n  top: -10px;\n  right: 0;\n  justify-content: space-between;\n  padding-left: 1em;\n  transition: opacity 0.2s;\n  opacity: ",";\n"]);return V=function(){return e},e}var G=p.a.div(V(),(function(e){return e.show?"1":"0"})),F=function(e){var n=e.selected,t=e.show,a=e.onReplyClick,o=e.isMe,i=e.onEmojiPick,c=r.useState(!1),l=Object(d.a)(c,2),u=l[0],s=l[1];r.useEffect((function(){!t&&u&&s(!1)}),[t,u]);var p=r.useCallback((function(e){s(!1),i(e.native)}),[i]),m=r.useRef();return r.createElement(G,{show:t},r.createElement(R.a,{title:"reply",TransitionComponent:N.a},r.createElement(x.a,{onClick:a},r.createElement(k.a,null))),r.createElement(R.a,{title:"react",TransitionComponent:N.a},r.createElement(x.a,{onClick:function(){return s(!0)},ref:m},r.createElement(z.a,null))),r.createElement(U.a,{open:u,anchorEl:m.current,onClose:function(){return s(!1)},TransitionComponent:D.a},r.createElement(B.a,{set:"twitter",autoFocus:!0,theme:"auto",title:"",onSelect:p})),n?r.createElement(r.Fragment,null,r.createElement(R.a,{title:"highlight",TransitionComponent:N.a},r.createElement(x.a,null,r.createElement(_.a,null))),r.createElement(R.a,{title:"react",TransitionComponent:N.a},r.createElement(x.a,null,r.createElement(P.a,null)))):o?r.createElement(r.Fragment,null,r.createElement(R.a,{title:"edit",TransitionComponent:N.a},r.createElement(x.a,null,r.createElement(C.a,null)))):null)},H=t(30),W=t(106),L=t.n(W);function q(){var e=Object(s.a)(['\n  font-family: "Inter", sans-serif;\n  font-weight: 300;\n  font-size: 0.75em;\n  color: grey;\n  border-radius: 5px;\n  background-color: rgba(0, 0, 0, 0.03);\n  padding: 5px 10px 5px 10px;\n  margin: 5px 0 0 1em;\n  cursor: pointer;\n  user-select: none;\n  display: inline-block;\n  transition: 0.2s;\n  :hover {\n    background-color: rgba(0, 0, 0, 0.1);\n    transition: 0.2s;\n  }\n']);return q=function(){return e},e}var K,X,J=p.a.div(q()),Y=function(e){var n=e.childEvents,t=e.tree,a=e.onClick,o=n.map((function(e){return t[e].contents})).flat(),i=Object(H.groupBy)(o,(function(e){switch(e.kind){case"reaction":return"reaction-".concat(e.emoji);case"image":return"image-".concat(e.uri);default:return e.kind}})),c=Object.values(i).sort((function(e,n){return n.length-e.length})).map((function(e,n){switch(e[0].kind){case"reaction":return r.createElement("span",{role:"img",key:n},e[0].emoji," (".concat(e.length,")"));case"highlight":return r.createElement("span",{role:"img",key:n},r.createElement(_.a,null)," (".concat(e.length,")"));case"markdown":return r.createElement("span",{role:"img",key:n},r.createElement(L.a,null)," (".concat(e.length,") more"));case"image":return r.createElement("span",{role:"img",key:n},r.createElement("img",{src:e[0].uri}))}}));return r.createElement(J,{onClick:a},c)},Z=t(31),$=function(e,n,t){var r;if(void 0===t){r=[n];for(var a=e[n].below;a;)r=[a].concat(Object(Z.a)(r)),a=e[a].below}else r=t;return Object(H.transform)(r,(function(n,t){if(0===n.length)n.push([t]);else{var r,a=n[n.length-1];(null===(r=e[a[a.length-1]])||void 0===r?void 0:r.creator)===e[t].creator?n[n.length-1].push(t):n.push([t])}}),[])},Q=t(108),ee=t.n(Q),ne=t(109),te=t.n(ne),re=function(e,n){return e.seen_by.indexOf(n)<0},ae=t(33),oe=t(7),ie=t(107),ce=function(e){var n,t={},r=[],a={},o=Object(ie.a)(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;t[i.id]=i,a[i.id]=[],null!==i.parent?a[i.parent]?a[i.parent].push(i.id):console.error("Missing parent (nonsequential log!) for ".concat(i.id,"->").concat(i.parent)):null===i.parent&&r.push(i.id)}}catch(c){o.e(c)}finally{o.f()}return{idToEvent:t,treeTop:r,childMap:a}},le=["markdown","image"],ue=function(e,n,t){return"message"===n[e].kind&&n[e].contents.some((function(e){var n=e.kind;return le.indexOf(n)>-1}))||t[e].length>0},de=t(20),se=t.n(de),pe=function(e,n,t,r){var a=null===r?t:n[r];if(0===a.length)return null;var o=a.map((function(n){return e[n].below})).filter((function(e){return null!==e}));return a.find((function(e){return o.indexOf(e)<0}))||null};!function(e){e[e.TREE=0]="TREE",e[e.LEAF=1]="LEAF"}(K||(K={})),function(e){e[e.SUBSTANTIVES=0]="SUBSTANTIVES",e[e.REACTIONS=1]="REACTIONS"}(X||(X={}));var me=function(e){return{type:"PUSH_PARENT",parent:e}},fe=function(e){return{type:"SET_REPLYING_TO",replyingTo:e}},Ee=function(e){var n=e.events,t=e.myID,r=ce(n),a=r.childMap,o=r.idToEvent,i=r.treeTop;return{currentView:K.TREE,currentContentTab:X.SUBSTANTIVES,currentParent:null,childMap:a,idToEvent:o,treeTop:i,replyingTo:null,myID:t}},he=function e(n,t){switch(t.type){case"CHANGE_CONTENT_TAB":return Object(oe.a)(Object(oe.a)({},n),{},{currentContentTab:t.contentTab,replyingTo:null});case"CHANGE_VIEW":return Object(oe.a)(Object(oe.a)({},n),{},{currentView:t.view,replyingTo:null});case"PUSH_PARENT":var r=Object(oe.a)(Object(oe.a)({},n),{},{currentContentTab:X.SUBSTANTIVES,currentView:K.TREE,currentParent:t.parent,replyingTo:null});return null!==t.parent&&0===n.childMap[t.parent].filter((function(e){return ue(e,n.idToEvent,n.childMap)})).length?Object(oe.a)(Object(oe.a)({},r),{},{currentContentTab:X.REACTIONS}):r;case"SET_REPLYING_TO":return Object(oe.a)(Object(oe.a)({},n),{},{replyingTo:t.replyingTo});case"SEND_EVENT":var a=Object(oe.a)(Object(oe.a)({},n),{},{idToEvent:Object(oe.a)(Object(oe.a)({},n.idToEvent),{},Object(ae.a)({},t.event.id,t.event)),childMap:Object(oe.a)(Object(oe.a)({},n.childMap),{},Object(ae.a)({},t.event.id,[]))});return null!==t.event.parent?Object(oe.a)(Object(oe.a)({},a),{},{childMap:Object(oe.a)(Object(oe.a)({},a.childMap),{},Object(ae.a)({},t.event.parent,[].concat(Object(Z.a)(a.childMap[t.event.parent]),[t.event.id])))}):Object(oe.a)(Object(oe.a)({},a),{},{treeTop:[].concat(Object(Z.a)(n.treeTop),[t.event.id])});case"SEND_REACTION":var o={kind:"message",parent:t.parent,below:pe(n.idToEvent,n.childMap,n.treeTop,t.parent),seen_by:[n.myID],creator:n.myID,created:(new Date).getTime(),id:se()(),contents:[{kind:"reaction",emoji:t.emoji,range:null,contentIndex:0,creator:n.myID,id:se()(),created:(new Date).getTime()}]};return e(n,{type:"SEND_EVENT",event:o});case"SEND_MD_MESSAGE":var i={kind:"message",parent:t.parent,below:pe(n.idToEvent,n.childMap,n.treeTop,t.parent),seen_by:[n.myID],creator:n.myID,created:(new Date).getTime(),id:se()(),contents:[{kind:"markdown",contents:t.md}]};return e(n,{type:"SEND_EVENT",event:i});default:return console.error("Cannot handle action ".concat(JSON.stringify(t))),n}};function ge(){var e=Object(s.a)(["\n  margin-left: 5px;\n  position: relative;\n  width: 100%;\n  border-radius: 5px;\n  :hover {\n    /* background-color: rgba(0, 0, 200, 0.05); */\n  }\n"]);return ge=function(){return e},e}var be=p.a.div(ge()),ve=function(e){var n=e.message,t=e.mode,a=e.childEvents,o=e.depth,i=e.appState,c=e.dispatch,l=r.useState(!1),u=Object(d.a)(l,2),s=u[0],p=u[1],m=r.useState(null),f=Object(d.a)(m,2),E=f[0],h=(f[1],Qe(a,i.idToEvent,i.childMap)),g=o>=2?[]:Object(H.takeRight)(h,5),b=Object(H.difference)(a,g),v=g.length>0?$(i.idToEvent,g[g.length-1],g):[],T=re(n,i.myID);return r.createElement("div",{style:{display:"inline-block",flexGrow:1}},r.createElement(be,{onMouseOver:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},r.createElement(O,{message:n,mode:t,childEvents:a,depth:o}),r.createElement("div",{style:{visibility:T||s?"visible":"hidden",display:"inline-block",verticalAlign:"top"}},r.createElement(x.a,{edge:"end",size:"small"},T?r.createElement(ee.a,{htmlColor:"#614AEC"}):r.createElement(te.a,{htmlColor:"#614AEC"}))),r.createElement(F,{show:s,selected:E,onReplyClick:function(){return c(fe(n.id))},onEmojiPick:function(e){return c(function(e,n){return{type:"SEND_REACTION",emoji:e,parent:n}}(e,n.id))},isMe:i.myID===n.creator})),b.length>0&&r.createElement(Y,{tree:i.idToEvent,childEvents:b,onClick:function(){return c(me(n.id))}}),r.createElement("div",{style:{paddingLeft:"1em"}},v.map((function(e,n){return r.createElement(Ze,{key:n,ids:e,depth:o+1,appState:i,dispatch:c})}))))},Te=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:se()();return{kind:"message",parent:t,below:r,seen_by:[e],creator:e,created:(new Date).getTime(),id:a,contents:[{kind:"markdown",contents:n}]}},ye=function(e,n){return e.map((function(t,r){return Object(oe.a)(Object(oe.a)({},t),{},{below:0===r?n:e[r-1].id})}))},we=function(e,n,t,r){return ye(n.map((function(n){return Te(e,n,t,null)})),r)},Oe=function(e,n,t,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:se()();return{kind:"message",parent:n.id,below:t,seen_by:[e],creator:e,created:(new Date).getTime(),id:o,contents:[{kind:"reaction",emoji:r,range:a,contentIndex:0,creator:e,id:se()(),created:(new Date).getTime()}]}},xe=se()(),je=function(){var e=se()();return{id:e,created:Date.now(),avatar:"http://tinygraphs.com/squares/".concat(e,"?theme=duskfalling&numcolors=4&size=220&fmt=png"),username:"testuser_".concat(e),display_name:"Test ".concat(e)}},ke=Object(H.keyBy)(Object(H.times)(10,je),"id"),Se=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:se()();return{kind:"message",parent:t,below:r,seen_by:[e],creator:e,created:(new Date).getTime(),id:o,contents:""!==a?[{kind:"image",uri:n},{kind:"markdown",contents:a}]:[{kind:"image",uri:n}]}},Ce=Object.keys(ke),Ae=Te(xe,"**Intro to Saga**",null,null),_e=Te(xe,"Hello!",null,Ae.id),Ie=Oe(xe,_e,null,"\ud83d\ude0b",null),Pe=we(xe,["Welcome to `saga`!","here's a quick tour of all the features","saga was built on the **vision** that chat should work like a notebook","you can read more about this vision at https://a9.io/glue-comic","anyways,"],null,_e.id),Re=function(e,n,t,r,a){var o=se()();return[Te(e,n,r,a,o)].concat(Object(Z.a)(ye(t.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{parent:o})})),null)))}(xe,"you can reply to stuff!",[Te(xe,"hello from below!",null,null)],null,Pe[Pe.length-1].id),Ne=we(Ce[0],["Woah!","that's really cool!","what else can it do?"],null,Re[0].id),De=Oe(Ce[3],Ne[1],null,"\ud83d\udc4d",null),Me=we(xe,["# the","quick","brown","fox","jumped","over","the","lazy","dog"],Ne[1].id,De.id),ze=Oe(Ce[2],Me[5],null,"\u2764\ufe0f",null),Be=Se(Ce[1],"https://d2w9rnfcy7mm78.cloudfront.net/6647576/original_68db1c6470569c7d3f47de34dc7ddf81.jpg?1585586959?bc=0",null,Ne[Ne.length-1].id),Ue=Se(Ce[2],"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Flag_of_New_Mexico.svg/320px-Flag_of_New_Mexico.svg.png",Be.id,null,"look at mee im the state of new mexico hehehe"),Ve=[Ae,_e,Ie].concat(Object(Z.a)(Pe),Object(Z.a)(Re),Object(Z.a)(Ne),[De],Object(Z.a)(Me),[ze,Be,Ue]),Ge={creator:xe,created:Date.now(),id:se()(),members:Object(ae.a)({},xe,{id:xe,online:!0,lastTyping:null}),name:"Brady Bunch Room",events:Ve},Fe={rooms:[Ge.id],id:xe,created:Date.now(),avatar:"https://pbs.twimg.com/profile_images/1198871789545381888/F2SmhoVi_400x400.jpg",username:"max",display_name:"Max Krieger"},He={me:Fe.id,myRooms:[Ge.id],knownUsers:Object(oe.a)(Object(oe.a)({},ke),{},Object(ae.a)({},Fe.id,Fe)),knownRooms:Object(ae.a)({},Ge.id,Ge)},We=a.a.createContext(He);function Le(){var e=Object(s.a)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border-radius: 1000px;\n  background: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n"]);return Le=function(){return e},e}function qe(){var e=Object(s.a)(['\n  font-family: "Inter", sans-serif;\n  font-weight: 600;\n  color: rgba(0, 0, 0, 0.75);\n  font-size: 12px;\n  padding-left: 40px;\n']);return qe=function(){return e},e}function Ke(){var e=Object(s.a)(["\n  display: block;\n  padding: 0;\n  margin: 5px;\n  width: 100%;\n  max-width: 700px;\n"]);return Ke=function(){return e},e}var Xe=p.a.div(Ke()),Je=p.a.div(qe()),Ye=p.a.div(Le(),"25px","25px",(function(e){return e.uri})),Ze=function(e){var n=e.ids,t=e.depth,a=e.appState,o=e.dispatch,i=r.useContext(We).knownUsers,c=r.createElement("div",{style:{width:"25px"}});return r.createElement(Xe,null,r.createElement(Je,null,i[a.idToEvent[n[0]].creator].display_name),n.map((function(e,l){var u=a.idToEvent[e],d=a.childMap[e];return r.createElement("div",{key:l,style:{display:"flex",justifyContent:"flex-start",width:"100%",marginTop:"5px"}},0===l?r.createElement(Ye,{uri:i[u.creator].avatar}):c,r.createElement(ve,{message:u,childEvents:d,depth:t,appState:a,dispatch:o,mode:1===n.length?g.singleton:0===l?g.top:l===n.length-1?g.bottom:g.middle}))})))},$e=function(e,n,t){return n[e].contents.every((function(e){return"reaction"===e.kind}))},Qe=function(e,n,t){return e.filter((function(e){return ue(e,n,t)}))},en=function(e){e.room;var n=e.ids,t=e.contentType,a=e.appState,o=e.dispatch,i=$(a.idToEvent,n[n.length-1]).map((function(e){return t===X.SUBSTANTIVES?Qe(e,a.idToEvent,a.childMap):e.filter((function(e){return $e(e,a.idToEvent,a.childMap)}))}));return r.createElement("div",null,i.map((function(e,n){return e.length>0?r.createElement(Ze,{key:n,ids:e,appState:a,dispatch:o,depth:0}):null})))},nn=t(264),tn=t(262),rn=t(113),an=t.n(rn),on=t(112),cn=t.n(on),ln=t(111),un=t.n(ln),dn=t(263),sn=function(e,n){return Object(H.uniq)(Object.values(e).filter((function(t){return re(t,n)&&(null===t.parent||!re(e[t.parent],n))})).map((function(e){return null===e.parent?e.id:e.parent})))},pn=function(e){e.room;var n=e.appState,t=e.dispatch,a=r.useContext(We),o=sn(n.idToEvent,a.me),i=$(n.idToEvent,o[o.length-1],o);return r.createElement("div",null,i.map((function(e,a){return e.length>0?r.createElement(Ze,{key:a,ids:e,depth:0,dispatch:t,appState:n}):null})))},mn=t(110),fn=t.n(mn);function En(){var e=Object(s.a)(["\n  background-color: rgba(0, 0, 0, 0.08);\n  color: rgba(0, 0, 0, 0.7);\n  font-size: 1em;\n  border-radius: 100px;\n  border: 1px solid rgba(0, 0, 0, 0);\n  outline: none;\n  padding: 5px 10px 5px 10px;\n  box-sizing: border-box;\n  flex: 2;\n  :focus {\n    border: 1px solid ",";\n  }\n"]);return En=function(){return e},e}function hn(){var e=Object(s.a)(["\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  max-height: 200px;\n  overflow: hidden;\n  padding: 1em 1em 0.5em 1em;\n  margin-bottom: 1em;\n"]);return hn=function(){return e},e}function gn(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n"]);return gn=function(){return e},e}function bn(){var e=Object(s.a)(["\n  padding: 1em;\n  width: 100%;\n  max-width: 800px;\n  box-shadow: 0px -5px 5px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 1em;\n  display: ",";\n"]);return bn=function(){return e},e}var vn=p.a.div(bn(),(function(e){return e.show?"visible":"none"})),Tn=p.a.div(gn()),yn=p.a.div(hn()),wn=p.a.input(En(),"#614AEC"),On=function(e){var n=e.appState,t=e.dispatch,a=e.show,o=null!==n.replyingTo?n.idToEvent[n.replyingTo]:null,i=r.useState(""),c=Object(d.a)(i,2),l=c[0],u=c[1],s=r.useRef(),p=Object(r.useCallback)((function(e){if("Enter"===e.key){var r=null===n.replyingTo?n.currentParent:n.replyingTo;t({type:"SEND_MD_MESSAGE",md:l,parent:r}),u(""),t(fe(null))}}),[t,l,n.replyingTo,n.currentParent]);return r.useEffect((function(){s.current&&s.current.focus()}),[n.replyingTo,n.currentParent,n.currentContentTab,n.currentView]),r.createElement(vn,{show:a},o&&"message"===o.kind&&r.createElement(yn,null,r.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("div",{style:{fontSize:"12px"}},"Replying to"," ",r.createElement("span",{style:{fontWeight:600}},o.creator)),r.createElement(x.a,{onClick:function(){return t(fe(null))},size:"small"},r.createElement(fn.a,{fontSize:"small"}))),r.createElement("div",{style:{maxWidth:300}},r.createElement(T,{content:o.contents[0],childContent:[]}))),r.createElement(Tn,null,r.createElement(wn,{type:"text",placeholder:"enter a message",value:l,onChange:function(e){return u(e.target.value)},onKeyPress:p,ref:s})))};function xn(){var e=Object(s.a)(["\n  outline: none;\n  color: ",';\n  background: none;\n  border: none;\n  font-family: "Inter", sans-serif;\n  font-weight: 500;\n  font-size: 1em;\n  cursor: pointer;\n  transition: 0.2s;\n  opacity: 1;\n  :hover {\n    opacity: 0.8;\n    transition: 0.2s;\n  }\n']);return xn=function(){return e},e}function jn(){var e=Object(s.a)(["\n  box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.1);\n  padding: 1em;\n  margin-bottom: 1em;\n"]);return jn=function(){return e},e}var kn=p.a.div(jn()),Sn=p.a.button(xn(),"#614AEC"),Cn=function(){var e=r.useContext(We),n=e.knownRooms[e.myRooms[0]],t=n.events,a=r.useReducer(he,{events:t,myID:e.me},Ee),o=Object(d.a)(a,2),i=o[0],c=o[1],l=(function e(n,t){return null!==n&&null!==t[n].parent?e(t[n].parent,t)+1:0}(i.currentParent,i.idToEvent),null!==i.currentParent?i.childMap[i.currentParent]:i.treeTop),u=null!==i.currentParent?e.knownUsers[i.idToEvent[i.currentParent].creator]:null,s=null!==i.currentParent?Qe(l,i.idToEvent,i.childMap):[],p=null!==i.currentParent?l.filter((function(e){return $e(e,i.idToEvent,i.childMap)})):[],m=null!==i.replyingTo||i.currentView===K.TREE&&i.currentContentTab===X.SUBSTANTIVES;return r.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100vh"}},r.createElement(kn,null,null!==i.currentParent?r.createElement(r.Fragment,null,r.createElement(Sn,{onClick:function(){return c(me(i.idToEvent[i.currentParent||""].parent))}},"< back"),r.createElement(Je,null,null===u||void 0===u?void 0:u.display_name),r.createElement(Ye,{uri:null===u||void 0===u?void 0:u.avatar}),r.createElement(O,{mode:g.singleton,depth:0,childEvents:[],message:i.idToEvent[i.currentParent]})):r.createElement(r.Fragment,null,r.createElement(Sn,null,n.name),r.createElement(nn.a,{value:i.currentView,onChange:function(e,n){return c({type:"CHANGE_VIEW",view:n})},style:{display:"inline-block"}},r.createElement(tn.a,{icon:r.createElement(un.a,{fontSize:"small"})}),r.createElement(tn.a,{icon:r.createElement(cn.a,{fontSize:"small"})})))),null!==i.currentParent&&r.createElement(nn.a,{value:i.currentContentTab,onChange:function(e,n){return c({type:"CHANGE_CONTENT_TAB",contentTab:n})}},r.createElement(tn.a,{label:r.createElement(dn.a,{badgeContent:s.length,color:"primary"},r.createElement(an.a,null))}),r.createElement(tn.a,{label:r.createElement(dn.a,{badgeContent:p.length,color:"primary"},r.createElement(z.a,null))})),r.createElement("div",{style:{overflow:"auto",flex:1}},i.currentView===K.TREE?r.createElement(en,{room:n,ids:l,appState:i,dispatch:c,contentType:i.currentContentTab===X.SUBSTANTIVES||null===i.currentParent?X.SUBSTANTIVES:X.REACTIONS}):r.createElement(pn,{room:n,appState:i,dispatch:c})),r.createElement(On,{appState:i,dispatch:c,show:m}))};l.a.initializeApp(u);var An=function(){l.a.auth.TwitterAuthProvider.PROVIDER_ID,l.a.auth().currentUser&&l.a.auth().currentUser.photoURL;return a.a.createElement("div",{style:{overflow:"hidden"}},a.a.createElement(Cn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(An,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[120,1,2]]]);
//# sourceMappingURL=main.9940e462.chunk.js.map